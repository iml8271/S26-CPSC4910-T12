{% extends "base.html" %}

{% block head %}

{% endblock %}

{% block body %}
<div>
    <h2>Log In Page</h2>
    <form id="login-form" method="POST"
        action="{{ url_for('handle_login') }}">
        <label for="username">Username:</label>
        <input id="username"
            type="text" name="username" placeholder="Username"><br>
        <label for="password">Password:</label>
        <input id="password"
            type="password" name="password" placeholder="Password" required><br>
        <label for="checkbox-password-visibility">Show Password</label>
        <input type="checkbox" id="checkbox-password-visibility">
        <br>
        <button type="submit">Enter</button>
    </form>
</div>

{% if error %} <p class="error"> {{ error }}</p> {% endif %}

<p>Forgot Password?</p>
<a href="{{ url_for('handle_signup') }}">Apply to be a driver!</a>

<script>
const passwordInput = document.querySelector("#password");
const checkboxPasswordVisibility = document.querySelector("#checkbox-password-visibility");
checkboxPasswordVisibility.addEventListener("change", () => {
    if (checkboxPasswordVisibility.checked) {
        passwordInput.type = "text";
    } else {
        passwordInput.type = "password";
    }
});
</script>
{% endblock %}